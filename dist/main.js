(()=>{"use strict";(e=>{let t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");setInterval((function(){let e=function(){let e=(new Date("1 july 2019").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),n=Math.floor(e/60%60);return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:n,seconds:t}}();const l=e=>e<10?"0"+e:e;t.textContent=l(e.hours),n.textContent=l(e.minutes),o.textContent=l(e.seconds),e.timeRemaining<=0&&(clearInterval(1),t.textContent="00",n.textContent="00",o.textContent="00")}),1e3)})(),(()=>{let e=document.querySelector("main>a");e.addEventListener("click",(t=>{t.preventDefault();const n=e.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}))})(),(()=>{const e=document.querySelector(".menu"),t=document.querySelector("menu"),n=(document.querySelector(".close-btn"),document.querySelector(".main-header"),t.querySelectorAll("ul>li"),()=>{t.classList.toggle("active-menu")});t.addEventListener("click",(e=>{let t=e.target;if(t=t.classList.contains("close-btn"),t)n();else{if(t=e.target.closest("a"),!t)return;n()}})),e.addEventListener("click",n)})(),(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup-content");t.forEach((t=>{t.addEventListener("click",(()=>{e.style.display="block";let t=-40,o=document.documentElement.clientWidth;if(n.style.top="-40%",o<=768)e.style.display="block",n.style.display="block",n.style.top=null;else{let e=setInterval((()=>{Math.ceil(document.documentElement.clientHeight),n.style.position="relative",t===Math.ceil(30)?(t=0,clearInterval(e)):(t++,n.style.top=`${t}%`)}),8)}})),e.addEventListener("click",(t=>{let n=t.target;n.classList.contains("popup-close")?e.style.display="none":(n=n.closest(".popup-content"),n||(e.style.display="none"))}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let o=e.target;o=o.closest(".service-header-tab"),o&&t.forEach(((e,l)=>{e===o&&(e=>{for(let o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(n[o].classList.add("d-none"),t[o].classList.remove("active"))})(l)}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-dots")),n=document.querySelector(".portfolio-content");let o;e.forEach(((e,n)=>{t.innerHTML+=0===n?'<li class="dot dot-active"></li>':'<li class="dot"></li>',o=document.querySelectorAll(".dot")}));let l,r=0;const a=(e,t,n)=>{e[t].classList.remove(n)},c=(e,t,n)=>{e[t].classList.add(n)},s=()=>{a(e,r,"portfolio-item-active"),a(o,r,"dot-active"),r++,r>=e.length&&(r=0),c(e,r,"portfolio-item-active"),c(o,r,"dot-active")},i=(e=3e3)=>{l=setInterval(s,e)};n.addEventListener("click",(t=>{t.preventDefault();let n=t.target;n.matches(".portfolio-btn,.dot")&&(a(e,r,"portfolio-item-active"),a(o,r,"dot-active"),n.matches("#arrow-right")?r++:n.matches("#arrow-left")?r--:n.matches(".dot")&&o.forEach(((e,t)=>{e===n&&(r=t)})),r>=e.length&&(r=0),r<0&&(r=e.length-1),c(e,r,"portfolio-item-active"),c(o,r,"dot-active"))})),n.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(l)})),n.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i(1500)})),i(1500)})(),(()=>{const e=document.getElementById("form2-message"),t=document.querySelectorAll(".form-name"),n=document.getElementById("form2-name"),o=document.querySelectorAll(".form-email"),l=document.querySelectorAll(".form-phone"),r=/-+/gi,a=/\s+/gi;document.addEventListener("input",(e=>{const t=e.target;t.matches(".calc-item")?t.value=t.value.replace(/\D/gi,""):t.matches(".form-name")||t.matches("#form2-name")?t.value=t.value.replace(/[^А-яа-яЁё ]/gi,""):t.matches("#form2-message")?t.value=t.value.replace(/[^А-Яа-яЁё .,'"\!\?()-\d]/gi,""):t.matches(".form-email")?t.value=t.value.replace(/[^A-Za-z@_.!`*'-]/gi,""):t.matches(".form-phone")&&(t.value=t.value.replace(/[^\d\+]/gi,""))}));const c=e=>{const t=e.target;(t.matches(".form-name")||t.matches("#form2-name"))&&(t.value=t.value[0].toUpperCase()+t.value.substring(1).toLowerCase()),t.value=t.value.replace(r,"-").trim(),t.value=t.value.replace(a," ").trim()};e.addEventListener("blur",c),n.addEventListener("blur",c),t.forEach((e=>{e.addEventListener("blur",c)})),o.forEach((e=>{e.addEventListener("blur",c)})),l.forEach((e=>{e.addEventListener("blur",c)}))})(),document.querySelectorAll(".command__photo").forEach((e=>{e.addEventListener("mouseenter",(()=>{let t=e.src;e.src=e.dataset.img,e.dataset.img=t})),e.addEventListener("mouseleave",(()=>{let t=e.src;e.src=e.dataset.img,e.dataset.img=t}))})),((e=100)=>{const t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),l=document.querySelector(".calc-day"),r=document.querySelector(".calc-count"),a=document.getElementById("total");t.addEventListener("change",(t=>{const c=t.target;(c.matches("select")||c.matches("input"))&&(()=>{let t=0,c=1,s=1;const i=n.options[n.selectedIndex].value,u=+o.value;r.value>1&&(c+=(r.value-1)/10),l.value&&l.value<5?s*=2:l.value&&l.value<10&&(s*=1.5),i&&u&&(t=e*i*u*c*s),a.textContent=t})()}))})(),(()=>{const e=document.createElement("div"),t=document.getElementById("form1");e.style.cssText="font-size: 2rem",t.addEventListener("submit",(o=>{o.preventDefault(),t.appendChild(e);let l=t.querySelectorAll("input");if(l[0].value.length<2)e.textContent="Имя должно содержать минимум 2 символа";else if(l[1].value.length<3)e.textContent="Введите корректную почту";else if(l[2].value.length>12||l[2].value.length<8)e.textContent="Введите корректный телефон";else{e.textContent="Загрузка...";const o=new FormData(t);let r={};for(let e of o.entries())r[e[0]]=e[1];n(r).then((t=>{if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы скоро с вами свяжемся!",setInterval((()=>{e.textContent=""}),3e3)})).catch((t=>{e.textContent="Что то пошло не так...",console.error(t)})),l.forEach((e=>{e.value=""}))}}));const n=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})(),(()=>{const e=document.createElement("div"),t=document.getElementById("form3");e.style.color="white",e.style.fontSize="2rem",t.addEventListener("submit",(o=>{o.preventDefault(),t.appendChild(e);let l=t.querySelectorAll("input");if(l[0].value.length<2)e.textContent="Имя должно содержать минимум 2 буквы";else if(l[1].value.length<8||l[1].value.length>12)e.textContent="Введите корректный номер телефона!(от 8 до 11 цифр)";else if(l[2].value.length<3)e.textContent="Введите корректную почту";else{e.textContent="Загрузка...";const o=new FormData(t);let r={};for(let e of o.entries())r[e[0]]=e[1];n(r).then((t=>{if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы скоро с вами свяжемся!",setInterval((()=>{e.textContent="",document.querySelector(".popup").style.display="none"}),3e3)})).catch((t=>{e.textContent="Что то пошло не так...",console.error(t)})),l.forEach((e=>{e.value=""}))}}));const n=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})(),(()=>{const e=document.createElement("div"),t=document.getElementById("form2");e.style.fontSize="2rem",t.addEventListener("submit",(o=>{o.preventDefault(),t.appendChild(e);let l=t.querySelectorAll("input");if(l[0].value.length<2)e.textContent="Имя должно содержать минимум 2 буквы";else if(l[1].value.length<3)e.textContent="Введите корректную почту";else if(l[2].value.length<8||l[2].value.length>12)e.textContent="Введите корректный номер телефона";else if(l[3].value.length<10)e.textContent="Сообщение должно содержать минимум 10 символов";else{e.textContent="Загрузка...";const o=new FormData(t);let r={};for(let e of o.entries())r[e[0]]=e[1];n(r).then((t=>{if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы скоро с вами свяжемся!",setInterval((()=>{e.textContent=""}),3e3)})).catch((t=>{e.textContent="Что то пошло не так...",console.error(t)})),l.forEach((e=>{e.value=""}))}}));const n=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})})()})();